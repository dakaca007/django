<!DOCTYPE html>
<html>
<head>
    <title>在线文件编辑器</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
 
	<script src="https://live.prismjs.com/src/prism-live.js?load=css,html,javascript"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: sans-serif;
            font-size: 1.1em;
            background-color: #F1F1F1;
            color: #222;
        }
        .codeArea {
            margin: 10px auto;
            text-align: center;
        }
        textarea {
            margin-top: 10px;
            width: 70%;
            height: 300px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .form-group {
            margin-bottom: 10px;
        }
        .form-group input[type="text"],
        .form-group textarea {
            width: 100%;
            padding: 10px;
            font-size: 16px;
        }
        .form-group input[type="submit"] {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        .result {
            margin-top: 20px;
            background-color: #f2f2f2;
            padding: 10px;
        }
        .error-message {
            color: red;
        }
	    div.prism-live {
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-flow: column;
}

textarea.prism-live,
pre.prism-live {
	padding: .2rem .5rem;
	box-sizing: border-box;
	margin: 0;
}

textarea.prism-live {
	position: absolute;
	top: 0;
	right: 0;
	width: 100%;
	height: 100%;
	z-index: 1;
	color: transparent;
	/* color: hsla(0,0%,50%,.4); */
	cursor: text;
	white-space: pre;
	border: 0;
	outline: none;
	background: transparent;
	resize: none;
	--selection-background: hsl(320, 80%, 25%);
	--selection-color: hsla(0, 0%, 100%, .8);
}

@supports (not (caret-color: black)) and (-webkit-text-fill-color: black) {
	textarea.prism-live {
		color: inherit;
		-webkit-text-fill-color: transparent;
	}
}

	/* Setting specific colors is needed
	 * because otherwise Firefox shows blank text */
	textarea.prism-live::-moz-selection {
		background: var(--selection-background);
		color: var(--selection-color);
	}

	textarea.prism-live::selection {
		background: var(--selection-background);
		color: var(--selection-color);
	}

pre.prism-live {
	flex: 1;
	position: relative;
	pointer-events: none;
	overflow: hidden;
	max-height: 100%;
	--scrollbar-width: 17px;
	padding-bottom: var(--scrollbar-width);
	padding-right: var(--scrollbar-width);
}

	pre.prism-live > code:empty::before {
		content: " "
	}

    </style>
   
</head>
<body>
<div class="container">
    <form id="command-form" method="POST" action="/open">
        <div class="form-group">
            <input type="text" name="file_path" placeholder="Enter directory path">
        </div>
        <div class="form-group">
            <input type="text" name="command" placeholder="输入Linux命令">
        </div>
        <div class="form-group">
            <input type="submit" value="执行">
        </div>
    </form>
    {% if result %}
    <form id="xs">
    
        
          <pre> 
        <textarea class="prism-live language-javascript" id="xs_code" autofocus>
          
        {{ result }}
            
    </textarea>
             
</pre>
         
    
</form>
    <form id="command-form2" method="POST" action="/save">
        <div class="form-group">
            <input type="text" name="file_path2" placeholder="Enter directory path">
        </div>
        <div class="form-group">
            <input type="text" name="file_name" placeholder="file name">
        </div>
        <div class="form-group">
            <pre>
            <textarea class="prism-live language-javascript" name="content" rows="10" cols="50" id="code"> 
 {{ result }}
                 
                 
               </textarea> 
            </pre>
          </div>
        <div class="form-group">
            <input type="submit" value="保存">
        </div>
    </form>
    {% endif %}


      
    <form id="command-form3" method="POST" action="/kill">
        <div class="form-group">
            <input type="text" name="jincheng" placeholder="进程ID">
        </div>
        <div class="form-group">
            <input type="submit" value="杀死flask">
        </div>
    </form>
    <form id="command-form4" method="POST" action="/reboot">
        <div class="form-group">
            <input type="submit" value="重启flask">
        </div>
    </form>
    {% if error_message %}
    <div class="error-message">
        <pre>{{ error_message }}</pre>
    </div>
    {% endif %}
</div>




</body>
</html>
